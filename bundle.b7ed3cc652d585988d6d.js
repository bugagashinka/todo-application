!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}(o),r=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){"use strict";var o,i,r={},a=(i={},function(e){if(void 0===i[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}i[e]=t}return i[e]});function s(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id],a=0;if(i){for(i.refs++;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(h(o.parts[a],t))}else{for(var s=[];a<o.parts.length;a++)s.push(h(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var o=n.nc;o&&(e.attributes.nonce=o)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}var f=null,m=0;function h(e,t){var n,o,i;if(t.singleton){var r=m++;n=f=f||l(t),o=p.bind(null,n,r,!1),i=p.bind(null,n,r,!0)}else n=l(t),o=function(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;if(i&&e.setAttribute("media",i),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,n,t),i=function(){!function(e){null!==e.parentNode&&e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(e,t);return c(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i],l=r[a.id];l&&(l.refs--,o.push(l))}e&&c(s(e,t),t);for(var u=0;u<o.length;u++){var d=o[u];if(0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete r[d.id]}}}}},function(e,t,n){var o=n(3);"string"==typeof o&&(o=[[e.i,o,""]]);n(1)(o,{insert:"head",singleton:!1}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}\n',""])},function(e,t,n){var o=n(5);"string"==typeof o&&(o=[[e.i,o,""]]);n(1)(o,{insert:"head",singleton:!1}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"*{box-sizing:border-box}body{font-family:Helvetica,sans-serif;background-color:#f6f6f6}.general-input{padding:6px;border:2px solid #666;outline:none}.general-input:focus{border:2px solid}.header,.footer{width:100%;padding:30px 25px;font-size:28px;background-color:#555a;color:#fff}@media screen and (max-width: 700px){.header,.footer{font-size:24px;padding:15px}}@media screen and (max-width: 700px){.header{position:sticky;top:0;z-index:2}}.footer{position:fixed;bottom:0}.wrapper{max-width:900px;margin:50px auto 150px}.button{border-radius:10px;padding:5px 16px;background-color:#fff}.button:hover{background:#d6d6d7}.button:active{background:#d6d6d7}.filter-menu{display:none;float:right;cursor:pointer}@media screen and (max-width: 700px){.filter-menu{display:block}}.menu-bar1,.menu-bar2,.menu-bar3{width:35px;height:5px;background-color:#fff;margin:6px 0;transition:0.4s}.open .menu-bar1{-webkit-transform:rotate(-45deg) translate(-9px, 6px);transform:rotate(-45deg) translate(-9px, 6px)}.open .menu-bar2{opacity:0}.open .menu-bar3{-webkit-transform:rotate(45deg) translate(-8px, -8px);transform:rotate(45deg) translate(-8px, -8px)}.filter-form{position:sticky;display:flex;justify-content:space-between;flex:1;margin-bottom:2em;background-color:#555a;padding:20px;z-index:2}.filter-form.open{visibility:visible}@media screen and (max-width: 700px){.filter-form{width:100%;flex-direction:column;position:fixed;bottom:22px;visibility:hidden}}@media screen and (min-width: 701px){.filter-form{top:0}}.filter-form .general-input{flex-grow:1;margin:1em}.filter-form .general-input:not(:last-child){margin-right:20px}@media screen and (max-width: 700px){.filter-form .general-input{margin:5px 16px}}.task-list{display:flex;justify-content:space-evenly;flex-wrap:wrap}.task{position:relative;max-width:250px;flex:0 1 250px;margin-bottom:2em;padding:20px;border:solid #000;border-width:2px 1px;background-color:#fff;box-shadow:0 4px 10px 1px #4b494966}@media screen and (max-width: 700px){.task{flex-basis:100%;max-width:90%;margin:16px}}.task_done{background-color:#eaeaea}.task_done .task-menu__button{background-color:#ccc}.task-header__status{display:block;position:absolute;top:-5px;right:-5px;width:15px;height:15px}.task-header__status:not(:checked){display:none}.task-header__title{margin-top:0}.task-footer{display:flex;margin-top:2em;justify-content:space-between}.task-footer__priority{width:4.5em;padding:0.5em;border:2px dashed;border-radius:10px;text-align:center}.task-menu__button{width:2.2em;padding:0.5em;border:2px solid #666;border-radius:10px;text-align:center;background-color:#fff}.task-footer__menu{position:relative}.task-footer__menu:hover{cursor:pointer}.task-footer__menu:hover .task-menu__content{display:block}.task-footer__menu:hover .task-menu__button{background:#ccc}.task-menu__content{display:none;position:absolute;right:1px;width:100px;background-color:#f9f9f9;border:1px solid #000;border-bottom:none;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);z-index:1}.task-menu__content ul{list-style-type:none;margin:0;padding:0;text-align:center}.task-menu__content li{cursor:pointer;padding:5px;border-bottom:1px solid}.task-menu__content li:hover{background:#fff;font-weight:600;transition:font-weight 0.1s ease-out}.create-task{position:fixed;display:flex;visibility:hidden;opacity:0;width:100%;height:100%;flex-direction:column;justify-content:center;left:0;top:0;z-index:5;background-color:rgba(0,0,0,0.2);transition:visibility 0s, opacity 0.3s linear}.create-task_visible{visibility:visible;opacity:1}.task-content{position:relative;top:0;bottom:0;width:230px;padding:16px;margin:0 auto;border:solid;border-width:2px 1px;background-color:#fff}.task-content__input{width:100%;margin:10px 0;padding:5px;border:2px solid #555}.task-content__title{outline:none}.task-content__description{resize:none;height:80px}.task-content__buttons{display:flex;justify-content:space-between;margin-top:3.5em}.task-content__buttons .button{width:100%}.cancel-button{margin-right:10px}.cancel-button:hover{background-color:#f4433699}.save-button:hover{background-color:#4caf5099}\n",""])},function(e,t,n){"use strict";n.r(t),n(2),n(4);var o="open",i="done";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(){p.classList.toggle("open"),s.classList.toggle("open")}var s=document.getElementById("filter-form"),c=document.getElementById("priority-filter"),l=document.getElementById("status-filter"),u=document.getElementById("title-filter"),d=document.getElementById("create-task"),p=document.getElementById("filter-menu-button"),f={title:"",priority:"all",status:"all"},m={init:function(e,t,n){Object.assign(this,{todoMap:e,onChange:t,onCreatePress:n}),this.filterChanged=this.filterChanged.bind(this),c.addEventListener("change",this.filterChanged),l.addEventListener("change",this.filterChanged),u.addEventListener("keyup",this.filterChanged),d.addEventListener("click",this.onCreatePress),p.addEventListener("click",a)},filterChanged:function(e){e&&f.title===e.target.value.trim()||(f={title:u.value,priority:c.value.toLowerCase(),status:l.value.toLowerCase()},this.onChange(this.filter(this.todoMap,f).reverse()))},filter:function(e,t){var n=t.title,o=t.priority,i=t.status,a=new RegExp("".concat(n.trim()),"ig"),s=""===n,c="all"===o,l="all"===i;return Array.from(e.entries()).filter((function(e){var t=r(e,2)[1];return(s||t.title.match(a))&&(c||t.priority===o)&&(l||t.status===i)})).map((function(e){return r(e,1)[0]}))}};function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"normal",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:o,a=4<arguments.length?arguments[4]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{title:t,description:n,priority:i,status:r,date:Number(a)||(new Date).getTime()})}return function(e,t,n){t&&h(e.prototype,t)}(e,[{key:"isOpen",value:function(){return this.status===o}},{key:"setTitle",value:function(e){this.title=e}},{key:"setDescription",value:function(e){this.description=e}},{key:"toggleStatus",value:function(){this.status=this.isOpen()?i:o}},{key:"setPriority",value:function(e){this.status=e}},{key:"toString",value:function(){return JSON.stringify(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.date,this))}}]),e}();function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(t,n){var o=n.onDone,i=n.onEdit,r=n.onDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{parentElement:t,onDone:o,onEdit:i,onDelete:r}),this.menuItemSelected=this.menuItemSelected.bind(this);var a=document.createElement("div");a.innerHTML="".concat(this).trim(),a.querySelector(".task-menu__content").addEventListener("click",this.menuItemSelected),this.element=a.firstChild}return function(e,t,n){t&&g(e.prototype,t)}(e,[{key:"menuItemSelected",value:function(e){switch(e.target.textContent){case"done":this.onDone(this.parentElement);break;case"edit":this.onEdit(this.parentElement);break;case"delete":this.onDelete(this.parentElement)}}},{key:"toString",value:function(){return'\n      <div class="task-footer__menu">\n        <button class="button general-input task-menu__button">...</button>\n        <aside class="task-menu__content">\n          <ul>\n            <li>'.concat("done","</li>\n            <li>").concat("edit","</li>\n            <li>").concat("delete","</li>\n          </ul>\n        </aside>\n      </div>")}}]),e}();function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e){return 22<e.length?e.slice(0,22).concat("..."):e}var _=function(){function e(t,n){var o=this,i=t.title,r=t.description,a=t.priority,s=t.status,c=t.date;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.proto=new b(i,r,a,s,c);var l=document.createElement("div");l.innerHTML="".concat(this).trim(),this.element=l.firstChild;var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{onDone:function(e){o.onDone(),n.onDone(e)}}),d=new v(this.element,u);this.element.querySelector(".task-footer").appendChild(d.element)}return function(e,t,n){t&&k(e.prototype,t)}(e,[{key:"onDone",value:function(){this.element.classList.toggle("task_".concat(i)),this.showCheckbox()}},{key:"showCheckbox",value:function(){var e=this;Promise.resolve().then((function(){setTimeout((function(){var t=e.element.querySelector(".task-header__status");t.checked=!t.checked,t.addEventListener("click",(function(t){t.target.checked=!1,e.proto.toggleStatus(),e.element.classList.toggle("task_".concat(i)),m.filterChanged()}),{once:!0,capture:!1})}),0)}))}},{key:"toString",value:function(){var e=w(this.proto.title),t=w(this.proto.description),n=this.proto.isOpen()?"":"task_".concat(i);return n&&this.showCheckbox(),'\n      <div class="task '.concat(n,'">\n        <div class="task-header">\n          <input type="checkbox" class="task-header__status" name="status"/>\n          <h4 class="task-header__title">').concat(e,'</h4>\n          <p class="task-header__description">').concat(t,'</p>\n        </div>\n        <div class="task-footer">\n          <div class="task-footer__priority">').concat(this.proto.priority,"</div>\n        </div>\n      </div>")}}]),e}(),O={init:function(e){this.element=e},addTask:function(e){this.element.insertAdjacentElement("afterbegin",e)},addAllTask:function(e){var t=document.createDocumentFragment();e.forEach((function(e){t.appendChild(e)})),this.element.innerHTML="",this.element.appendChild(t)},replaceTask:function(e,t){this.element.replaceChild(e,t)},removeTask:function(e){this.element.removeChild(e)}},j=document.getElementById("title-input"),E=document.getElementById("description-input"),C=document.getElementById("priority-input"),S=document.getElementById("create-form"),P=document.getElementById("cancel-button"),L=document.getElementById("save-button"),T=document.getElementById("create-window"),z={init:function(){},open:function(e){var t=0<arguments.length&&void 0!==e?e:{title:"",description:"",priority:"normal"},n=[t.title,t.description,t.priority].concat();j.value=n[0],E.value=n[1],C.value=n[2],T.classList.toggle("create-task_visible"),j.focus();var o={once:!0,capture:!1};return new Promise((function(e,t){P.addEventListener("click",(function(e){return function(e,t){e.preventDefault(),t()}(e,t)}),o),L.addEventListener("click",(function(t){return function(e,t){j.value=j.value.trim(),E.value=E.value.trim(),C.value=C.value.trim(),S.checkValidity()&&(e.preventDefault(),t({title:j.value,description:E.value,priority:C.value}))}(t,e)}),o)})).finally(this.close)},close:function(){T.classList.toggle("create-task_visible")}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(){localStorage.setItem("taskList",JSON.stringify(Array.from(U.values())))}function B(e,t){t?function(e,t){var n=U.get(t),o=new _(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e),F);o.proto.date=n.date,U.delete(t),U.set(o.element,o.proto),O.replaceTask(o.element,t)}(e,t):function(e){var t=new _(e,F);U.set(t.element,t.proto),O.addTask(t.element)}(e),M()}function A(){}function N(e){return O.addAllTask(e)}function H(){z.open().then(B).catch(A)}function R(e){U.get(e).toggleStatus(),M()}function q(e){O.removeTask(e),U.delete(e),M()}function J(e){var t=U.get(e);z.open(t).then((function(t){return B(t,e)})).then((function(){return M()})).catch(A)}var U=new Map,F={};document.addEventListener("DOMContentLoaded",(function(){F={onDone:R,onEdit:J,onDelete:q},O.init(document.getElementById("task-list")),m.init(U,N,H),function(e){if(e&&e.length){var t=e.map((function(e){var t=new _(e,F);return U.set(t.element,t.proto),t.element})).reverse();O.addAllTask(t)}}(JSON.parse(localStorage.getItem("taskList"))),fetch("https://api.github.com/repos/bugagashinka/homework3/commits").then((function(e){return e.json()})).then((function(e){return e[0].commit.author.email.split("@")[0].replace("w","y")})).then((function(e){document.querySelector(".footer").innerHTML=e}))}))}]);